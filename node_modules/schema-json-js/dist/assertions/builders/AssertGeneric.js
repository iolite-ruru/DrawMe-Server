"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _types=require("../types");const ASSERT_CONST=Symbol("validates constants"),ASSERT_ENUM=Symbol("validates values against an enum");class AssertGeneric{constructor(){return AssertGeneric}static optimize(e){const t=[];(0,_types.isUndefined)(e.const)||t.push(AssertGeneric[ASSERT_CONST](e));(0,_types.isUndefined)(e.enum)||t.push(AssertGeneric[ASSERT_ENUM](e));return t}static[ASSERT_CONST](e){return(e,t)=>{if(!(t.const&&"object"==typeof t.const&&(0,_types.deepEqual)(e,t.const)||e===t.const))return"#const: value does not match the defined const"}}static[ASSERT_ENUM](e){if(!(0,_types.isEnum)(e.enum))throw new TypeError("#enum: invalid enum, check format and for duplicates");return(e,t)=>{let n=t.enum.length;for(;n--;){if(!(e&&"object"==typeof e||e!==t.enum[n]))return;if(t.enum[n]&&"object"==typeof t.enum[n]&&(0,_types.deepEqual)(e,t.enum[n]))return}return"#enum: value does not match anything in the enum"}}}exports.default=AssertGeneric;module.exports=exports.default;
